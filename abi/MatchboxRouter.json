{"abi":[{"type":"constructor","inputs":[{"name":"_ctf","type":"address","internalType":"address"},{"name":"_exchange","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"},{"name":"_factory","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"COLLATERAL_TOKEN","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"CTF","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPolymarketCTF"}],"stateMutability":"view"},{"type":"function","name":"EXCHANGE","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPolymarketExchange"}],"stateMutability":"view"},{"type":"function","name":"FACTORY","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"authorizeMatchbox","inputs":[{"name":"matchbox","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"calculateExpectedOutput","inputs":[{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"price","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"expectedOut","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"calculatePrice","inputs":[{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"amountOut","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"isAuthorizedMatchbox","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"swap","inputs":[{"name":"conditionId","type":"bytes32","internalType":"bytes32"},{"name":"outcomeIndex","type":"uint256","internalType":"uint256"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"minAmountOut","type":"uint256","internalType":"uint256"},{"name":"orderData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"amountOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"swapWithConstraints","inputs":[{"name":"conditionId","type":"bytes32","internalType":"bytes32"},{"name":"outcomeIndex","type":"uint256","internalType":"uint256"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"minPrice","type":"uint256","internalType":"uint256"},{"name":"maxPrice","type":"uint256","internalType":"uint256"},{"name":"orderData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"amountOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"event","name":"TradeExecuted","inputs":[{"name":"matchbox","type":"address","indexed":true,"internalType":"address"},{"name":"conditionId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"outcomeIndex","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountIn","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amountOut","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"price","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InvalidParameters","inputs":[]},{"type":"error","name":"InvalidPrice","inputs":[]},{"type":"error","name":"OrderFailed","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]},{"type":"error","name":"SlippageExceeded","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"UnauthorizedCaller","inputs":[]}],"bytecode":{"object":"0x610100346200016757601f6200164e38819003918201601f19168301916001600160401b038311848410176200016b5780849260809460405283398101031262000167576200004e816200017f565b906200005d602082016200017f565b916200007a606062000072604085016200017f565b93016200017f565b6001600160a01b03918216608052921660a05260c05260e0526040516114b990816200019582396080518181816101c10152818161024a0152818161030f015281816103f101528181610438015281816104ab01528181610717015281816108dc0152818161096501528181610a2101528181610b4501528181610ba70152610c19015260a05181818161028d015281816106cd015281816109ae01528181610a920152610ae5015260c05181818160e20152818161016301528181610211015281816102bc0152818161087d0152818161092c01526109d2015260e05181818161076b01526107c10152f35b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b0382168203620001675756fe6080806040526004361015610012575f80fd5b5f90813560e01c90816308148a93146107f05750806328932ad4146106fc5780632dd31000146107ab578063865024c914610746578063a629b43f14610701578063a6413a27146106fc578063b50e44b8146106b7578063d7c890c914610111578063f5f1f1a7146100cc5763f8494d771461008c575f80fd5b346100c95760203660031901126100c95760209060ff906040906001600160a01b036100b6610e77565b1681528084522054166040519015158152f35b80fd5b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346100c95760a03660031901126100c95760843567ffffffffffffffff811161058157610143903690600401610df0565b91903382528160205260ff604083205416156106a55761019060443530337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166112cc565b60405163856296f760e01b8152600480820184905235602480830191909152600190351b60448201526020816064817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610635578391610672575b5060405163039dd75360e41b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660048201526024810191909152602081806044810103817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610635578391610640575b506001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811693906102e1906044359086907f000000000000000000000000000000000000000000000000000000000000000016611327565b604051627eeac760e11b80825230600483015260248201849052959093906020856044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa9485156106355783956105fd575b509061034d91810190610f2f565b9161035883516110f2565b93825b845181101561038c578060c06103746103879388611132565b5101516103818289611132565b52611124565b61035b565b50869083878688823b156105f9576103bd92849283604051809681958294635f0441b960e01b84526004840161115a565b03925af18015610585576105e5575b5050604051918252306004830152602482018390526020826044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa80156105da5784906105a2575b61042a92506112bf565b9060643582106105905782907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b1561058157604051637921219560e11b815230600482015233602482015260448101919091526064810183905260a060848201525f60a4820152818160c481836001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165af180156105855761056d575b505061271091826044350292604435840414604435151715610559575061050181602093610ea1565b604080516024358152604435602082015290810183905260608101919091526004359033907fc90422dc4677047a348ebfc0dbb1f7298b9138155980fd43c4c196c4d5b4a2669080608081015b0390a3604051908152f35b634e487b7160e01b81526011600452602490fd5b61057690610ebf565b6105815781836104d8565b5080fd5b6040513d84823e3d90fd5b604051638199f5f360e01b8152600490fd5b506020823d6020116105d2575b816105bc60209383610ee7565b810103126105ce5761042a9151610420565b5f80fd5b3d91506105af565b6040513d86823e3d90fd5b6105ee90610ebf565b6105f95783856103cc565b8380fd5b919094506020823d60201161062d575b8161061a60209383610ee7565b810103126105ce5790519361034d61033f565b3d915061060d565b6040513d85823e3d90fd5b90506020813d60201161066a575b8161065b60209383610ee7565b810103126105ce57515f610282565b3d915061064e565b90506020813d60201161069d575b8161068d60209383610ee7565b810103126105ce575160206101f9565b3d9150610680565b604051635c427cd960e01b8152600490fd5b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b610e1e565b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346100c95760203660031901126100c957610760610e77565b6001600160a01b03907f0000000000000000000000000000000000000000000000000000000000000000821633036106a5571681528060205260408120600160ff1982541617905580f35b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b82346100c95760c03660031901126100c95760a43567ffffffffffffffff811161058157610822903690600401610df0565b9190923382528160205260ff60408320541615610de157506127109081608435118015610dd4575b610dc25760443515610dc257604435828102048203610559576108736084358360443502610ea1565b6108aa60443530337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166112cc565b60405163856296f760e01b8152600480820184905235602480830191909152600190351b6044820152946020866064817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa958615610635578396610d8d575b5060405163039dd75360e41b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660048201526024810196909652602086806044810103817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa958615610635578396610d59575b506109f76044356001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116907f000000000000000000000000000000000000000000000000000000000000000016611327565b604051627eeac760e11b815230600482015260248101879052946020866044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa9586156105da578496610d23575b5090610a5f91810190610f2f565b94610a6a86516110f2565b93835b8751811015610a8b578060c0610374610a86938b611132565b610a6d565b50858785877f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b1561058157604051635f0441b960e01b81529283918291610ae091906004840161115a565b0381837f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165af18015610d0557610d10575b50604051627eeac760e11b815230600482015260248101849052906020826044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa8015610d05578690610cd1575b610b7e92506112bf565b9283106105905782610b939160443502610ea1565b9060843582118015610cc6575b610cb557837f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b156100c957604051637921219560e11b815230600482015233602482015260448101929092526064820184905260a060848301525f60a48301528160c481836001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165af180156105da57610c9d575b60208383604051907fc90422dc4677047a348ebfc0dbb1f7298b9138155980fd43c4c196c4d5b4a266600435928061054e339487604435602435859094939260609260808301968352602083015260408201520152565b610ca78491610ebf565b610cb15782610c46565b8280fd5b60405162bfc92160e01b8152600490fd5b506064358210610ba0565b506020823d602011610cfd575b81610ceb60209383610ee7565b810103126105ce57610b7e9151610b74565b3d9150610cde565b6040513d88823e3d90fd5b610d1c90959195610ebf565b9385610b1a565b9095506020813d602011610d51575b81610d3f60209383610ee7565b810103126105f9575194610a5f610a51565b3d9150610d32565b9095506020813d602011610d85575b81610d7560209383610ee7565b81010312610cb15751948661099d565b3d9150610d68565b95506020863d602011610dba575b81610da860209383610ee7565b81010312610cb1579451946020610914565b3d9150610d9b565b604051630e52390960e41b8152600490fd5b506084356064351161084a565b635c427cd960e01b8152600490fd5b9181601f840112156105ce5782359167ffffffffffffffff83116105ce57602083818601950101116105ce57565b346105ce5760403660031901126105ce576024356004358115610dc25761271090818102918183041490151715610e6357602091610e5b91610ea1565b604051908152f35b634e487b7160e01b5f52601160045260245ffd5b600435906001600160a01b03821682036105ce57565b35906001600160a01b03821682036105ce57565b8115610eab570490565b634e487b7160e01b5f52601260045260245ffd5b67ffffffffffffffff8111610ed357604052565b634e487b7160e01b5f52604160045260245ffd5b90601f8019910116810190811067ffffffffffffffff821117610ed357604052565b67ffffffffffffffff8111610ed35760051b60200190565b359060ff821682036105ce57565b60209081818403126105ce57803567ffffffffffffffff918282116105ce570190601f938085840112156105ce57823590610f6982610f09565b956040610f7881519889610ee7565b838852868089019460051b870101958387116105ce57878101945b878610610fa65750505050505050505090565b85358781116105ce5782016101a091601f19918383828a0301126105ce578551908482018281108c8211176110de5787528c8101358252610fe8878201610e8d565b8d830152606094610ffa868301610e8d565b8884015260809561100c878401610e8d565b9084015260a095868301359084015260c095868301359084015260e095868301359084015261010095868301359084015261012095868301359084015261014095868301359084015261016095611064878401610f21565b9084015261018095611077878401610f21565b90840152810135908b82116105ce57019288603f850112156105ce578c840135948b86116110de576110b18e8951938b8901160183610ee7565b858252898887870101116105ce575f8e8781988b8399018387013784010152820152815201950194610f93565b60245f634e487b7160e01b81526041600452fd5b906110fc82610f09565b6111096040519182610ee7565b828152809261111a601f1991610f09565b0190602036910137565b5f198114610e635760010190565b80518210156111465760209160051b010190565b634e487b7160e01b5f52603260045260245ffd5b60409081810191808252835180935260609283830193808260051b850101946020809701935f925b8484106111c657505050505050828183039101528180845192838152019301915f5b8281106111b2575050505090565b8351855293810193928101926001016111a4565b90919293949796605f19878203018452878951918251815260018060a01b0380838501511683830152808685015116868301528484015116848201526080808401519082015260a0808401519082015260c0808401519082015260e080840151908201526101008084015190820152610120808401519082015260ff6101408181860151169083015261016090818501511690820152610180809301516101a08094830152805180948301525f5b8481106112a957505060019282916101c0915f838284010152601f801991011601019a01940194019294939190979697611182565b8181018401518382016101c001528b9301611274565b91908203918211610e6357565b6040516323b872dd60e01b60208201526001600160a01b03928316602482015292909116604483015260648083019390935291815260a081019181831067ffffffffffffffff841117610ed3576113259260405261141e565b565b60405163095ea7b360e01b602082018181526001600160a01b038516602484015260448084019690965294825294939092611363606485610ee7565b60205f809386519082875af182513d826113f9575b505015611388575b505050509050565b60405160208101969096526001600160a01b0316602486015260448086018290528552608085019067ffffffffffffffff8211868310176113e557506113db93946113d6916040528261141e565b61141e565b805f808080611380565b634e487b7160e01b81526041600452602490fd5b90915061141657506001600160a01b0383163b15155b5f80611378565b60011461140f565b905f602091828151910182855af115611478575f513d61146f57506001600160a01b0381163b155b61144d5750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611446565b6040513d5f823e3d90fdfea264697066735822122076b4f7283bfcb7c4041ebde522c9308f8a569d0e10d0fc2a4aefe719ac350f4564736f6c63430008140033","sourceMap":"827:9137:30:-:0;;;;;;;;;;;;;-1:-1:-1;;827:9137:30;;;;-1:-1:-1;;;;;827:9137:30;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;;;;827:9137:30;;;;2876:26;827:9137;;;2912:41;2963:35;;3008:18;;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2963:35;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3008:18;827:9137;;;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;;-1:-1:-1;827:9137:30;;;;;-1:-1:-1;827:9137:30;;;;-1:-1:-1;;;;;827:9137:30;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f90813560e01c90816308148a93146107f05750806328932ad4146106fc5780632dd31000146107ab578063865024c914610746578063a629b43f14610701578063a6413a27146106fc578063b50e44b8146106b7578063d7c890c914610111578063f5f1f1a7146100cc5763f8494d771461008c575f80fd5b346100c95760203660031901126100c95760209060ff906040906001600160a01b036100b6610e77565b1681528084522054166040519015158152f35b80fd5b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346100c95760a03660031901126100c95760843567ffffffffffffffff811161058157610143903690600401610df0565b91903382528160205260ff604083205416156106a55761019060443530337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166112cc565b60405163856296f760e01b8152600480820184905235602480830191909152600190351b60448201526020816064817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610635578391610672575b5060405163039dd75360e41b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660048201526024810191909152602081806044810103817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610635578391610640575b506001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000811693906102e1906044359086907f000000000000000000000000000000000000000000000000000000000000000016611327565b604051627eeac760e11b80825230600483015260248201849052959093906020856044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa9485156106355783956105fd575b509061034d91810190610f2f565b9161035883516110f2565b93825b845181101561038c578060c06103746103879388611132565b5101516103818289611132565b52611124565b61035b565b50869083878688823b156105f9576103bd92849283604051809681958294635f0441b960e01b84526004840161115a565b03925af18015610585576105e5575b5050604051918252306004830152602482018390526020826044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa80156105da5784906105a2575b61042a92506112bf565b9060643582106105905782907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b1561058157604051637921219560e11b815230600482015233602482015260448101919091526064810183905260a060848201525f60a4820152818160c481836001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165af180156105855761056d575b505061271091826044350292604435840414604435151715610559575061050181602093610ea1565b604080516024358152604435602082015290810183905260608101919091526004359033907fc90422dc4677047a348ebfc0dbb1f7298b9138155980fd43c4c196c4d5b4a2669080608081015b0390a3604051908152f35b634e487b7160e01b81526011600452602490fd5b61057690610ebf565b6105815781836104d8565b5080fd5b6040513d84823e3d90fd5b604051638199f5f360e01b8152600490fd5b506020823d6020116105d2575b816105bc60209383610ee7565b810103126105ce5761042a9151610420565b5f80fd5b3d91506105af565b6040513d86823e3d90fd5b6105ee90610ebf565b6105f95783856103cc565b8380fd5b919094506020823d60201161062d575b8161061a60209383610ee7565b810103126105ce5790519361034d61033f565b3d915061060d565b6040513d85823e3d90fd5b90506020813d60201161066a575b8161065b60209383610ee7565b810103126105ce57515f610282565b3d915061064e565b90506020813d60201161069d575b8161068d60209383610ee7565b810103126105ce575160206101f9565b3d9150610680565b604051635c427cd960e01b8152600490fd5b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b610e1e565b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346100c95760203660031901126100c957610760610e77565b6001600160a01b03907f0000000000000000000000000000000000000000000000000000000000000000821633036106a5571681528060205260408120600160ff1982541617905580f35b50346100c957806003193601126100c9576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b82346100c95760c03660031901126100c95760a43567ffffffffffffffff811161058157610822903690600401610df0565b9190923382528160205260ff60408320541615610de157506127109081608435118015610dd4575b610dc25760443515610dc257604435828102048203610559576108736084358360443502610ea1565b6108aa60443530337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166112cc565b60405163856296f760e01b8152600480820184905235602480830191909152600190351b6044820152946020866064817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa958615610635578396610d8d575b5060405163039dd75360e41b81526001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001660048201526024810196909652602086806044810103817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa958615610635578396610d59575b506109f76044356001600160a01b037f00000000000000000000000000000000000000000000000000000000000000008116907f000000000000000000000000000000000000000000000000000000000000000016611327565b604051627eeac760e11b815230600482015260248101879052946020866044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa9586156105da578496610d23575b5090610a5f91810190610f2f565b94610a6a86516110f2565b93835b8751811015610a8b578060c0610374610a86938b611132565b610a6d565b50858785877f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b1561058157604051635f0441b960e01b81529283918291610ae091906004840161115a565b0381837f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165af18015610d0557610d10575b50604051627eeac760e11b815230600482015260248101849052906020826044816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa8015610d05578690610cd1575b610b7e92506112bf565b9283106105905782610b939160443502610ea1565b9060843582118015610cc6575b610cb557837f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163b156100c957604051637921219560e11b815230600482015233602482015260448101929092526064820184905260a060848301525f60a48301528160c481836001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165af180156105da57610c9d575b60208383604051907fc90422dc4677047a348ebfc0dbb1f7298b9138155980fd43c4c196c4d5b4a266600435928061054e339487604435602435859094939260609260808301968352602083015260408201520152565b610ca78491610ebf565b610cb15782610c46565b8280fd5b60405162bfc92160e01b8152600490fd5b506064358210610ba0565b506020823d602011610cfd575b81610ceb60209383610ee7565b810103126105ce57610b7e9151610b74565b3d9150610cde565b6040513d88823e3d90fd5b610d1c90959195610ebf565b9385610b1a565b9095506020813d602011610d51575b81610d3f60209383610ee7565b810103126105f9575194610a5f610a51565b3d9150610d32565b9095506020813d602011610d85575b81610d7560209383610ee7565b81010312610cb15751948661099d565b3d9150610d68565b95506020863d602011610dba575b81610da860209383610ee7565b81010312610cb1579451946020610914565b3d9150610d9b565b604051630e52390960e41b8152600490fd5b506084356064351161084a565b635c427cd960e01b8152600490fd5b9181601f840112156105ce5782359167ffffffffffffffff83116105ce57602083818601950101116105ce57565b346105ce5760403660031901126105ce576024356004358115610dc25761271090818102918183041490151715610e6357602091610e5b91610ea1565b604051908152f35b634e487b7160e01b5f52601160045260245ffd5b600435906001600160a01b03821682036105ce57565b35906001600160a01b03821682036105ce57565b8115610eab570490565b634e487b7160e01b5f52601260045260245ffd5b67ffffffffffffffff8111610ed357604052565b634e487b7160e01b5f52604160045260245ffd5b90601f8019910116810190811067ffffffffffffffff821117610ed357604052565b67ffffffffffffffff8111610ed35760051b60200190565b359060ff821682036105ce57565b60209081818403126105ce57803567ffffffffffffffff918282116105ce570190601f938085840112156105ce57823590610f6982610f09565b956040610f7881519889610ee7565b838852868089019460051b870101958387116105ce57878101945b878610610fa65750505050505050505090565b85358781116105ce5782016101a091601f19918383828a0301126105ce578551908482018281108c8211176110de5787528c8101358252610fe8878201610e8d565b8d830152606094610ffa868301610e8d565b8884015260809561100c878401610e8d565b9084015260a095868301359084015260c095868301359084015260e095868301359084015261010095868301359084015261012095868301359084015261014095868301359084015261016095611064878401610f21565b9084015261018095611077878401610f21565b90840152810135908b82116105ce57019288603f850112156105ce578c840135948b86116110de576110b18e8951938b8901160183610ee7565b858252898887870101116105ce575f8e8781988b8399018387013784010152820152815201950194610f93565b60245f634e487b7160e01b81526041600452fd5b906110fc82610f09565b6111096040519182610ee7565b828152809261111a601f1991610f09565b0190602036910137565b5f198114610e635760010190565b80518210156111465760209160051b010190565b634e487b7160e01b5f52603260045260245ffd5b60409081810191808252835180935260609283830193808260051b850101946020809701935f925b8484106111c657505050505050828183039101528180845192838152019301915f5b8281106111b2575050505090565b8351855293810193928101926001016111a4565b90919293949796605f19878203018452878951918251815260018060a01b0380838501511683830152808685015116868301528484015116848201526080808401519082015260a0808401519082015260c0808401519082015260e080840151908201526101008084015190820152610120808401519082015260ff6101408181860151169083015261016090818501511690820152610180809301516101a08094830152805180948301525f5b8481106112a957505060019282916101c0915f838284010152601f801991011601019a01940194019294939190979697611182565b8181018401518382016101c001528b9301611274565b91908203918211610e6357565b6040516323b872dd60e01b60208201526001600160a01b03928316602482015292909116604483015260648083019390935291815260a081019181831067ffffffffffffffff841117610ed3576113259260405261141e565b565b60405163095ea7b360e01b602082018181526001600160a01b038516602484015260448084019690965294825294939092611363606485610ee7565b60205f809386519082875af182513d826113f9575b505015611388575b505050509050565b60405160208101969096526001600160a01b0316602486015260448086018290528552608085019067ffffffffffffffff8211868310176113e557506113db93946113d6916040528261141e565b61141e565b805f808080611380565b634e487b7160e01b81526041600452602490fd5b90915061141657506001600160a01b0383163b15155b5f80611378565b60011461140f565b905f602091828151910182855af115611478575f513d61146f57506001600160a01b0381163b155b61144d5750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415611446565b6040513d5f823e3d90fdfea264697066735822122076b4f7283bfcb7c4041ebde522c9308f8a569d0e10d0fc2a4aefe719ac350f4564736f6c63430008140033","sourceMap":"827:9137:30:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;827:9137:30;;;;;;;;;;-1:-1:-1;;;;;827:9137:30;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2044:41;-1:-1:-1;;;;;827:9137:30;;;;;;;;;;;;;-1:-1:-1;;827:9137:30;;;;;;;;;;;;;;;;;;:::i;:::-;7124:10;;;827:9137;;;;;;;;;;;7102:33;7098:66;;7289:8;827:9137;;7282:4;7124:10;7227:16;-1:-1:-1;;;;;827:9137:30;7289:8;:::i;:::-;827:9137;;-1:-1:-1;;;7359:63:30;;827:9137;7359:63;;;827:9137;;;;;;;;;;;;;;;;;;;;;;;;7359:3;-1:-1:-1;;;;;827:9137:30;7359:63;;;;;;;;;;;827:9137;-1:-1:-1;827:9137:30;;-1:-1:-1;;;7453:49:30;;-1:-1:-1;;;;;7227:16:30;827:9137;;7453:49;;827:9137;;;;;;;;;;;;;;7453:49;827:9137;7359:3;-1:-1:-1;;;;;827:9137:30;7453:49;;;;;;;;;;;827:9137;-1:-1:-1;;;;;;7596:8:30;827:9137;;;;7607:8;;827:9137;;;;;7227:16;827:9137;7607:8;:::i;:::-;827:9137;;-1:-1:-1;;;7651:40:30;;;7282:4;827:9137;7651:40;;827:9137;;;;;;;;;;;;;;;-1:-1:-1;;;;;7359:3:30;827:9137;7651:40;;;;;;;;;;;827:9137;7772:52;;;;;;;;:::i;:::-;827:9137;7865:28;827:9137;;7865:28;:::i;:::-;7909:13;;7943:3;827:9137;;7924:17;;;;;7979:9;:21;:9;7943:3;7979:9;;;:::i;:::-;;:21;827:9137;7962:38;;;;:::i;:::-;827:9137;7943:3;:::i;:::-;7909:13;;7924:17;;;;;;;;8021:40;;;;;;827:9137;;;;;;;;;;;;;;;8021:40;;827:9137;8021:40;;;:::i;:::-;;;;;;;;;;;7904:107;-1:-1:-1;;827:9137:30;;8095:40;;;7282:4;827:9137;8095:40;;827:9137;;;;;;;;;;;-1:-1:-1;;;;;7359:3:30;827:9137;8095:40;;;;;;;;;;7904:107;8157:28;;;;:::i;:::-;827:9137;;;8200:24;;8196:55;;827:9137;;7359:3;-1:-1:-1;;;;;827:9137:30;8306:74;;;;827:9137;;-1:-1:-1;;;8306:74:30;;7282:4;827:9137;8306:74;;827:9137;7124:10;827:9137;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;;;;;-1:-1:-1;;;;;7359:3:30;827:9137;8306:74;;;;;;;;7904:107;8419:5;;;827:9137;;;;;;;;;;;;;;;;;;8407:30;;;827:9137;8407:30;;:::i;:::-;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7124:10;;8452:80;;827:9137;;;;8452:80;;;;827:9137;;;;;;;-1:-1:-1;;;827:9137:30;;;;;;;;8306:74;;;;:::i;:::-;827:9137;;8306:74;;;;827:9137;;;;8306:74;827:9137;;;;;;;;;8196:55;827:9137;;-1:-1:-1;;;8233:18:30;;827:9137;;8233:18;8095:40;;827:9137;8095:40;;827:9137;8095:40;;;;;;827:9137;8095:40;;;:::i;:::-;;;827:9137;;;;8157:28;827:9137;;8095:40;;827:9137;;;;8095:40;;;-1:-1:-1;8095:40:30;;;827:9137;;;;;;;;;8021:40;;;;:::i;:::-;827:9137;;8021:40;;;;827:9137;;;;7651:40;;;;;827:9137;7651:40;;827:9137;7651:40;;;;;;827:9137;7651:40;;;:::i;:::-;;;827:9137;;;;;;;7772:52;7651:40;;;;;-1:-1:-1;7651:40:30;;;827:9137;;;;;;;;;7453:49;;;827:9137;7453:49;;827:9137;7453:49;;;;;;827:9137;7453:49;;;:::i;:::-;;;827:9137;;;;;7453:49;;;;;;-1:-1:-1;7453:49:30;;7359:63;;;827:9137;7359:63;;827:9137;7359:63;;;;;;827:9137;7359:63;;;:::i;:::-;;;827:9137;;;;;;7359:63;;;;;-1:-1:-1;7359:63:30;;7098:66;827:9137;;-1:-1:-1;;;7144:20:30;;827:9137;;7144:20;827:9137;;;;;;;;;;;;;;;1948:45;-1:-1:-1;;;;;827:9137:30;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;1857:35;-1:-1:-1;;;;;827:9137:30;;;;;;;;;;;;;-1:-1:-1;;827:9137:30;;;;;;:::i;:::-;-1:-1:-1;;;;;827:9137:30;8796:7;827:9137;;8782:10;:21;8778:54;;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2153:32;-1:-1:-1;;;;;827:9137:30;;;;;;;;;;;;;-1:-1:-1;;827:9137:30;;;;;;;;;;;;;;;;;;:::i;:::-;4074:10;;;;827:9137;;;;;;;;;;;4052:33;4048:66;;4171:5;;827:9137;;;;4160:16;:39;;;;827:9137;4156:71;;827:9137;;4241:13;4237:45;;827:9137;;;;;;;;;;4514:29;827:9137;;;;;;4514:29;:::i;:::-;4685:8;827:9137;;4678:4;4074:10;4623:16;-1:-1:-1;;;;;827:9137:30;4685:8;:::i;:::-;827:9137;;-1:-1:-1;;;4776:63:30;;827:9137;4776:63;;;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;4776:3;-1:-1:-1;;;;;827:9137:30;4776:63;;;;;;;;;;;827:9137;-1:-1:-1;827:9137:30;;-1:-1:-1;;;4870:49:30;;-1:-1:-1;;;;;4623:16:30;827:9137;;4870:49;;827:9137;;;;;;;;;;;;;;4870:49;827:9137;4776:3;-1:-1:-1;;;;;827:9137:30;4870:49;;;;;;;;;;;827:9137;-1:-1:-1;5035:8:30;827:9137;;-1:-1:-1;;;;;5024:8:30;827:9137;;;4623:16;827:9137;5035:8;:::i;:::-;827:9137;;-1:-1:-1;;;5132:40:30;;4678:4;827:9137;5132:40;;827:9137;;;;;;;;;;;;-1:-1:-1;;;;;4776:3:30;827:9137;5132:40;;;;;;;;;;;827:9137;5263:52;;;;;;;;:::i;:::-;827:9137;5356:28;827:9137;;5356:28;:::i;:::-;5523:13;;5557:3;827:9137;;5538:17;;;;;5593:9;827:9137;5593:9;5557:3;5593:9;;;:::i;5557:3::-;5523:13;;5538:17;-1:-1:-1;5538:17:30;;;;5024:8;-1:-1:-1;;;;;827:9137:30;5635:40;;;;827:9137;;-1:-1:-1;;;5635:40:30;;827:9137;;;;;5635:40;;827:9137;;5635:40;;;:::i;:::-;;827:9137;;5024:8;-1:-1:-1;;;;;827:9137:30;5635:40;;;;;;;;5518:107;-1:-1:-1;827:9137:30;;-1:-1:-1;;;5709:40:30;;4678:4;827:9137;5709:40;;827:9137;;;;;;;;;;;;-1:-1:-1;;;;;4776:3:30;827:9137;5709:40;;;;;;;;;;5518:107;5771:28;;;;:::i;:::-;5850:24;;;5846:55;;827:9137;5973:30;827:9137;;;;5973:30;:::i;:::-;827:9137;;;6059:22;;:48;;;;5518:107;6055:100;;827:9137;4776:3;-1:-1:-1;;;;;827:9137:30;6217:74;;;;827:9137;;-1:-1:-1;;;6217:74:30;;4678:4;827:9137;6217:74;;827:9137;4074:10;827:9137;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;;;;-1:-1:-1;;;;;4776:3:30;827:9137;6217:74;;;;;;;;5518:107;827:9137;;;;;;6307:86;827:9137;;4074:10;;6307:86;4074:10;827:9137;;;;;;6307:86;827:9137;;;;;;;;;;;;;;;;;;;;;;;6217:74;;;;;:::i;:::-;827:9137;;6217:74;;;827:9137;;;;6055:100;827:9137;;-1:-1:-1;;;6130:14:30;;827:9137;;6130:14;6059:48;827:9137;;;6085:22;;6059:48;;5709:40;;827:9137;5709:40;;827:9137;5709:40;;;;;;827:9137;5709:40;;;:::i;:::-;;;827:9137;;;;5771:28;827:9137;;5709:40;;;;;-1:-1:-1;5709:40:30;;;827:9137;;;;;;;;;5635:40;;;;;;;:::i;:::-;;;;;5132;;;;827:9137;5132:40;;827:9137;5132:40;;;;;;827:9137;5132:40;;;:::i;:::-;;;827:9137;;;;;;5263:52;5132:40;;;;;-1:-1:-1;5132:40:30;;4870:49;;;;827:9137;4870:49;;827:9137;4870:49;;;;;;827:9137;4870:49;;;:::i;:::-;;;827:9137;;;;;4870:49;;;;;;;-1:-1:-1;4870:49:30;;4776:63;;;827:9137;4776:63;;827:9137;4776:63;;;;;;827:9137;4776:63;;;:::i;:::-;;;827:9137;;;;;;;;4776:63;;;;;-1:-1:-1;4776:63:30;;4237:45;827:9137;;-1:-1:-1;;;4263:19:30;;827:9137;;4263:19;4160:39;827:9137;;;;;4180:19;4160:39;;4048:66;-1:-1:-1;;;4094:20:30;;827:9137;;4094:20;827:9137;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;-1:-1:-1;;827:9137:30;;;;;;;;9436:10;;9432:42;;9510:5;827:9137;;;;;;;;;;;;;;;;9498:26;;;;:::i;:::-;827:9137;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;-1:-1:-1;827:9137:30;;;;;-1:-1:-1;;;;;827:9137:30;;;;;;:::o;:::-;;;-1:-1:-1;;;;;827:9137:30;;;;;;:::o;:::-;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;827:9137:30;;;;;;;;;;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;;;;;;:::o;:::-;-1:-1:-1;;827:9137:30;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;1618:188:24:-;827:9137:30;;-1:-1:-1;;;1745:53:24;;;;-1:-1:-1;;;;;827:9137:30;;;1745:53:24;;;827:9137:30;;;;;;;;;;;;;;;;;1745:53:24;;;827:9137:30;;;;;;;;;;;;;1745:53:24;827:9137:30;;;1745:53:24;:::i;:::-;1618:188::o;5084:380::-;827:9137:30;;-1:-1:-1;;;5199:47:24;;;;;;-1:-1:-1;;;;;827:9137:30;;5199:47:24;;;827:9137:30;;;;;;;;;5199:47:24;;;827:9137:30;;;;5199:47:24;827:9137:30;;5199:47:24;:::i;:::-;;-1:-1:-1;9770:199:24;;;;;;;;;;;;9985:80;;;5084:380;5261:45;;;5257:201;;5084:380;;;;;;;:::o;5257:201::-;827:9137:30;;5199:47:24;5349:43;;;;;;-1:-1:-1;;;;;827:9137:30;5199:47:24;5349:43;;827:9137:30;;;;;;;;5349:43:24;;827:9137:30;;;;;;;;;;;;;;5434:12:24;827:9137:30;;5349:43:24;827:9137:30;;;5349:43:24;;:::i;:::-;5434:12;:::i;:::-;5257:201;;;;;;;827:9137:30;-1:-1:-1;;;827:9137:30;;;;;5199:47:24;;827:9137:30;9985:80:24;9997:67;;-1:-1:-1;9997:15:24;;-1:-1:-1;;;;;;827:9137:30;;10015:26:24;:30;;9997:67;9985:80;;;;9997:67;10063:1;10048:16;9997:67;;8370:720;;-1:-1:-1;8507:421:24;8370:720;8507:421;;;;;;;;;;;;-1:-1:-1;8507:421:24;;8942:15;;-1:-1:-1;;;;;;827:9137:30;;8960:26:24;:31;8942:68;8938:146;;8370:720;:::o;8938:146::-;827:9137:30;;-1:-1:-1;;;9033:40:24;;-1:-1:-1;;;;;827:9137:30;;;9033:40:24;;;827:9137:30;;;9033:40:24;8942:68;9009:1;8994:16;;8942:68;;8507:421;;;;-1:-1:-1;8507:421:24;;;;","linkReferences":{},"immutableReferences":{"42016":[{"start":449,"length":32},{"start":586,"length":32},{"start":783,"length":32},{"start":1009,"length":32},{"start":1080,"length":32},{"start":1195,"length":32},{"start":1815,"length":32},{"start":2268,"length":32},{"start":2405,"length":32},{"start":2593,"length":32},{"start":2885,"length":32},{"start":2983,"length":32},{"start":3097,"length":32}],"42020":[{"start":653,"length":32},{"start":1741,"length":32},{"start":2478,"length":32},{"start":2706,"length":32},{"start":2789,"length":32}],"42023":[{"start":226,"length":32},{"start":355,"length":32},{"start":529,"length":32},{"start":700,"length":32},{"start":2173,"length":32},{"start":2348,"length":32},{"start":2514,"length":32}],"42026":[{"start":1899,"length":32},{"start":1985,"length":32}]}},"methodIdentifiers":{"COLLATERAL_TOKEN()":"f5f1f1a7","CTF()":"a629b43f","EXCHANGE()":"b50e44b8","FACTORY()":"2dd31000","authorizeMatchbox(address)":"865024c9","calculateExpectedOutput(uint256,uint256)":"28932ad4","calculatePrice(uint256,uint256)":"a6413a27","isAuthorizedMatchbox(address)":"f8494d77","swap(bytes32,uint256,uint256,uint256,bytes)":"d7c890c9","swapWithConstraints(bytes32,uint256,uint256,uint256,uint256,bytes)":"08148a93"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ctf\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_exchange\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_factory\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidParameters\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OrderFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SlippageExceeded\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnauthorizedCaller\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"matchbox\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"conditionId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"outcomeIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"TradeExecuted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"COLLATERAL_TOKEN\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"CTF\",\"outputs\":[{\"internalType\":\"contract IPolymarketCTF\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"EXCHANGE\",\"outputs\":[{\"internalType\":\"contract IPolymarketExchange\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"FACTORY\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"matchbox\",\"type\":\"address\"}],\"name\":\"authorizeMatchbox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"calculateExpectedOutput\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"expectedOut\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"name\":\"calculatePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isAuthorizedMatchbox\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"conditionId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"outcomeIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"orderData\",\"type\":\"bytes\"}],\"name\":\"swap\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"conditionId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"outcomeIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"orderData\",\"type\":\"bytes\"}],\"name\":\"swapWithConstraints\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"calmxbt Key Features: - Stateless and heavily audited - Enforces price constraints atomically (via minAmountOut) - Handles both buying and selling conditional tokens - Supports multiple order types (market orders, limit orders)\",\"details\":\"This contract is the only component that directly interacts with Polymarket's AMM\",\"errors\":{\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"authorizeMatchbox(address)\":{\"params\":{\"matchbox\":\"The Matchbox address to authorize\"}},\"calculateExpectedOutput(uint256,uint256)\":{\"params\":{\"amountIn\":\"The input amount\",\"price\":\"The price in basis points\"},\"returns\":{\"expectedOut\":\"The expected output amount\"}},\"calculatePrice(uint256,uint256)\":{\"params\":{\"amountIn\":\"The input amount\",\"amountOut\":\"The output amount\"},\"returns\":{\"price\":\"The price in basis points\"}},\"constructor\":{\"params\":{\"_collateralToken\":\"The collateral token address (USDC)\",\"_ctf\":\"The Polymarket CTF address\",\"_exchange\":\"The Polymarket Exchange address\",\"_factory\":\"The MatchboxFactory address\"}},\"swap(bytes32,uint256,uint256,uint256,bytes)\":{\"params\":{\"amountIn\":\"The amount of collateral to spend\",\"conditionId\":\"The Polymarket condition ID\",\"minAmountOut\":\"The minimum amount of tokens to receive (slippage protection)\",\"orderData\":\"Encoded order data\",\"outcomeIndex\":\"The outcome to buy\"},\"returns\":{\"amountOut\":\"The amount of outcome tokens received\"}},\"swapWithConstraints(bytes32,uint256,uint256,uint256,uint256,bytes)\":{\"params\":{\"amountIn\":\"The amount of collateral to spend\",\"conditionId\":\"The Polymarket condition ID\",\"maxPrice\":\"The maximum acceptable price (in basis points)\",\"minPrice\":\"The minimum acceptable price (in basis points)\",\"orderData\":\"Encoded order data from the Polymarket orderbook\",\"outcomeIndex\":\"The outcome to buy (0 = NO, 1 = YES)\"},\"returns\":{\"amountOut\":\"The amount of outcome tokens received\"}}},\"title\":\"MatchboxRouter\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"COLLATERAL_TOKEN()\":{\"notice\":\"The collateral token (USDC)\"},\"CTF()\":{\"notice\":\"The Polymarket CTF contract\"},\"EXCHANGE()\":{\"notice\":\"The Polymarket Exchange contract\"},\"FACTORY()\":{\"notice\":\"The MatchboxFactory address (for validation)\"},\"authorizeMatchbox(address)\":{\"notice\":\"Registers a new Matchbox contract (called by factory)\"},\"calculateExpectedOutput(uint256,uint256)\":{\"notice\":\"Calculates the expected output for a given input amount and price\"},\"calculatePrice(uint256,uint256)\":{\"notice\":\"Calculates the price in basis points for a given trade\"},\"constructor\":{\"notice\":\"Initializes the MatchboxRouter\"},\"isAuthorizedMatchbox(address)\":{\"notice\":\"Mapping to track authorized Matchbox contracts\"},\"swap(bytes32,uint256,uint256,uint256,bytes)\":{\"notice\":\"Simplified swap function for market orders (no price constraints)\"},\"swapWithConstraints(bytes32,uint256,uint256,uint256,uint256,bytes)\":{\"notice\":\"Executes a trade with price constraints\"}},\"notice\":\"Stateless adapter contract for executing trades on Polymarket with price constraints\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/MatchboxRouter.sol\":\"MatchboxRouter\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100\",\"dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037\",\"dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d\",\"dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508\",\"dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617\",\"dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u\"]},\"src/MatchboxRouter.sol\":{\"keccak256\":\"0x07c8dd9046dfce90487b17d1a9a3ce13f617489837fe6109e70dc4386a54fa4e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://92e77cf1f93cf145bad534efda16db1a4249b95e8569b9d6e9b866f8f6d4992c\",\"dweb:/ipfs/QmaVAQpUGfQhcbdLmXGaxzJwpu3PTJz2poY4SRY9qSymh6\"]},\"src/interfaces/IPolymarketCTF.sol\":{\"keccak256\":\"0xcc30a101822c8a1358c65810cd1a1cd94646906a95fe0e9e329ebc29aede4219\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a45d00920be0cef3b5f3735c6151a4b9ede9927d2ceb2ea48af678c192d5c97f\",\"dweb:/ipfs/QmRincW4duLXicvttDTXhsnAnVnqmguAeMychqi47etiYK\"]},\"src/interfaces/IPolymarketExchange.sol\":{\"keccak256\":\"0x3443d389c822e678c5f0386eb560099a27df2cd7020cfed40eb6496d0c1c3ff3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://84f8be18c1929c3c2c05ae4b31327a1567a3be0b4a2f3b0f1bbd649085e3430f\",\"dweb:/ipfs/QmWAgycDGr1KRo2AeUBVF6L9RN6EB4WN3r3EykykPbH5er\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_ctf","type":"address"},{"internalType":"address","name":"_exchange","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"},{"internalType":"address","name":"_factory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidParameters"},{"inputs":[],"type":"error","name":"InvalidPrice"},{"inputs":[],"type":"error","name":"OrderFailed"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[],"type":"error","name":"SlippageExceeded"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"UnauthorizedCaller"},{"inputs":[{"internalType":"address","name":"matchbox","type":"address","indexed":true},{"internalType":"bytes32","name":"conditionId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"outcomeIndex","type":"uint256","indexed":false},{"internalType":"uint256","name":"amountIn","type":"uint256","indexed":false},{"internalType":"uint256","name":"amountOut","type":"uint256","indexed":false},{"internalType":"uint256","name":"price","type":"uint256","indexed":false}],"type":"event","name":"TradeExecuted","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"COLLATERAL_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"CTF","outputs":[{"internalType":"contract IPolymarketCTF","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"EXCHANGE","outputs":[{"internalType":"contract IPolymarketExchange","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"FACTORY","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"matchbox","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"authorizeMatchbox"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculateExpectedOutput","outputs":[{"internalType":"uint256","name":"expectedOut","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"pure","type":"function","name":"calculatePrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"isAuthorizedMatchbox","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"conditionId","type":"bytes32"},{"internalType":"uint256","name":"outcomeIndex","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minAmountOut","type":"uint256"},{"internalType":"bytes","name":"orderData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"swap","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"conditionId","type":"bytes32"},{"internalType":"uint256","name":"outcomeIndex","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"minPrice","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"},{"internalType":"bytes","name":"orderData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"swapWithConstraints","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"authorizeMatchbox(address)":{"params":{"matchbox":"The Matchbox address to authorize"}},"calculateExpectedOutput(uint256,uint256)":{"params":{"amountIn":"The input amount","price":"The price in basis points"},"returns":{"expectedOut":"The expected output amount"}},"calculatePrice(uint256,uint256)":{"params":{"amountIn":"The input amount","amountOut":"The output amount"},"returns":{"price":"The price in basis points"}},"constructor":{"params":{"_collateralToken":"The collateral token address (USDC)","_ctf":"The Polymarket CTF address","_exchange":"The Polymarket Exchange address","_factory":"The MatchboxFactory address"}},"swap(bytes32,uint256,uint256,uint256,bytes)":{"params":{"amountIn":"The amount of collateral to spend","conditionId":"The Polymarket condition ID","minAmountOut":"The minimum amount of tokens to receive (slippage protection)","orderData":"Encoded order data","outcomeIndex":"The outcome to buy"},"returns":{"amountOut":"The amount of outcome tokens received"}},"swapWithConstraints(bytes32,uint256,uint256,uint256,uint256,bytes)":{"params":{"amountIn":"The amount of collateral to spend","conditionId":"The Polymarket condition ID","maxPrice":"The maximum acceptable price (in basis points)","minPrice":"The minimum acceptable price (in basis points)","orderData":"Encoded order data from the Polymarket orderbook","outcomeIndex":"The outcome to buy (0 = NO, 1 = YES)"},"returns":{"amountOut":"The amount of outcome tokens received"}}},"version":1},"userdoc":{"kind":"user","methods":{"COLLATERAL_TOKEN()":{"notice":"The collateral token (USDC)"},"CTF()":{"notice":"The Polymarket CTF contract"},"EXCHANGE()":{"notice":"The Polymarket Exchange contract"},"FACTORY()":{"notice":"The MatchboxFactory address (for validation)"},"authorizeMatchbox(address)":{"notice":"Registers a new Matchbox contract (called by factory)"},"calculateExpectedOutput(uint256,uint256)":{"notice":"Calculates the expected output for a given input amount and price"},"calculatePrice(uint256,uint256)":{"notice":"Calculates the price in basis points for a given trade"},"constructor":{"notice":"Initializes the MatchboxRouter"},"isAuthorizedMatchbox(address)":{"notice":"Mapping to track authorized Matchbox contracts"},"swap(bytes32,uint256,uint256,uint256,bytes)":{"notice":"Simplified swap function for market orders (no price constraints)"},"swapWithConstraints(bytes32,uint256,uint256,uint256,uint256,bytes)":{"notice":"Executes a trade with price constraints"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/MatchboxRouter.sol":"MatchboxRouter"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol":{"keccak256":"0xd5ea07362ab630a6a3dee4285a74cf2377044ca2e4be472755ad64d7c5d4b69d","urls":["bzz-raw://da5e832b40fc5c3145d3781e2e5fa60ac2052c9d08af7e300dc8ab80c4343100","dweb:/ipfs/QmTzf7N5ZUdh5raqtzbM11yexiUoLC9z3Ws632MCuycq1d"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0x0afcb7e740d1537b252cb2676f600465ce6938398569f09ba1b9ca240dde2dfc","urls":["bzz-raw://1c299900ac4ec268d4570ecef0d697a3013cd11a6eb74e295ee3fbc945056037","dweb:/ipfs/Qmab9owJoxcA7vJT5XNayCMaUR1qxqj1NDzzisduwaJMcZ"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol":{"keccak256":"0x1a6221315ce0307746c2c4827c125d821ee796c74a676787762f4778671d4f44","urls":["bzz-raw://1bb2332a7ee26dd0b0de9b7fe266749f54820c99ab6a3bcb6f7e6b751d47ee2d","dweb:/ipfs/QmcRWpaBeCYkhy68PR3B4AgD7asuQk7PwkWxrvJbZcikLF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2","urls":["bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303","dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5","urls":["bzz-raw://8150ceb4ac947e8a442b2a9c017e01e880b2be2dd958f1fa9bc405f4c5a86508","dweb:/ipfs/QmbcBmFX66AY6Kbhnd5gx7zpkgqnUafo43XnmayAM7zVdB"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x8891738ffe910f0cf2da09566928589bf5d63f4524dd734fd9cedbac3274dd5c","urls":["bzz-raw://971f954442df5c2ef5b5ebf1eb245d7105d9fbacc7386ee5c796df1d45b21617","dweb:/ipfs/QmadRjHbkicwqwwh61raUEapaVEtaLMcYbQZWs9gUkgj3u"],"license":"MIT"},"src/MatchboxRouter.sol":{"keccak256":"0x07c8dd9046dfce90487b17d1a9a3ce13f617489837fe6109e70dc4386a54fa4e","urls":["bzz-raw://92e77cf1f93cf145bad534efda16db1a4249b95e8569b9d6e9b866f8f6d4992c","dweb:/ipfs/QmaVAQpUGfQhcbdLmXGaxzJwpu3PTJz2poY4SRY9qSymh6"],"license":"MIT"},"src/interfaces/IPolymarketCTF.sol":{"keccak256":"0xcc30a101822c8a1358c65810cd1a1cd94646906a95fe0e9e329ebc29aede4219","urls":["bzz-raw://a45d00920be0cef3b5f3735c6151a4b9ede9927d2ceb2ea48af678c192d5c97f","dweb:/ipfs/QmRincW4duLXicvttDTXhsnAnVnqmguAeMychqi47etiYK"],"license":"MIT"},"src/interfaces/IPolymarketExchange.sol":{"keccak256":"0x3443d389c822e678c5f0386eb560099a27df2cd7020cfed40eb6496d0c1c3ff3","urls":["bzz-raw://84f8be18c1929c3c2c05ae4b31327a1567a3be0b4a2f3b0f1bbd649085e3430f","dweb:/ipfs/QmWAgycDGr1KRo2AeUBVF6L9RN6EB4WN3r3EykykPbH5er"],"license":"MIT"}},"version":1},"id":30}